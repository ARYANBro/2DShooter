[gd_scene load_steps=22 format=2]

[ext_resource path="res://Assets/New_Enviornment.tres" type="Environment" id=1]
[ext_resource path="res://Scripts/MainRoot.cs" type="Script" id=2]
[ext_resource path="res://Scripts/Score.cs" type="Script" id=3]
[ext_resource path="res://Assets/UI/Healtbar.tscn" type="PackedScene" id=4]
[ext_resource path="res://Assets/UI/PauseMenue.tscn" type="PackedScene" id=5]
[ext_resource path="res://Assets/Player.tscn" type="PackedScene" id=6]
[ext_resource path="res://Assets/UI/StaminaBar.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scripts/CameraShake.cs" type="Script" id=8]
[ext_resource path="res://Assets/Consumables/Healthpack.tscn" type="PackedScene" id=9]
[ext_resource path="res://Assets/Consumables/EnergyDrink.tscn" type="PackedScene" id=10]
[ext_resource path="res://Assets/Weapons/RocketLauncher.tscn" type="PackedScene" id=11]
[ext_resource path="res://Assets/Enemy/Enemy.tscn" type="PackedScene" id=12]
[ext_resource path="res://Assets/Weapons/Shotgun.tscn" type="PackedScene" id=13]
[ext_resource path="res://Assets/Enemy/BigEnemy.tscn" type="PackedScene" id=14]
[ext_resource path="res://Assets/Enemy/PointsAnimPlayer.tscn" type="PackedScene" id=15]
[ext_resource path="res://Assets/Weapons/Pistol.tscn" type="PackedScene" id=16]
[ext_resource path="res://Assets/Fonts/Roboto/Roboto-Black.ttf" type="DynamicFontData" id=17]
[ext_resource path="res://Assets/Sprites/PauseButton/PauseButton.png" type="Texture" id=18]
[ext_resource path="res://Assets/Sprites/PauseButton/PauseButtonPressed.png" type="Texture" id=19]

[sub_resource type="DynamicFont" id=1]
size = 15
use_mipmaps = true
use_filter = true
font_data = ExtResource( 17 )

[sub_resource type="Animation" id=2]
resource_name = "Points bounce"
length = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath(".:custom_fonts/font:size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray(  ),
"transitions": PoolRealArray(  ),
"update": 1,
"values": [  ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("..:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 0.2 ),
"transitions": PoolRealArray( 1, 1, 3.605 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.5, 1.5 ), Vector2( 1, 1 ) ]
}

[node name="Main" type="Node2D"]
script = ExtResource( 2 )
__meta__ = {
"_edit_horizontal_guides_": [  ]
}
maxEnemyCount = 10
maxBigEnemyCount = 5
enemyScene = ExtResource( 12 )
pointsScene = ExtResource( 15 )
pistolScene = ExtResource( 16 )
shotGunScene = ExtResource( 13 )
bigEnemyScene = ExtResource( 14 )
healthPackScene = ExtResource( 9 )
energyDrinkScene = ExtResource( 10 )
rocketLauncherScene = ExtResource( 11 )

[node name="Enemies" type="Node2D" parent="."]

[node name="MainCam" type="Camera2D" parent="."]
position = Vector2( 160, 90 )
current = true
script = ExtResource( 8 )
__meta__ = {
"_edit_lock_": true
}
randomness = 50.0
speed = 40.0
decay = 40.0
shakeTimerWaitTime = 0.1

[node name="Player" parent="." instance=ExtResource( 6 )]
position = Vector2( 155.966, 98.0898 )

[node name="Hud" type="Control" parent="."]
margin_left = 246.321
margin_top = 12.6454
margin_right = 286.321
margin_bottom = 52.6454
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Healtbar" parent="Hud" instance=ExtResource( 4 )]

[node name="StaminaBar" parent="Hud" instance=ExtResource( 7 )]
position = Vector2( 1.02208, 14.5909 )

[node name="Score Root" type="Node2D" parent="Hud"]
position = Vector2( -238.144, 1.94547 )

[node name="Score" type="Label" parent="Hud/Score Root"]
margin_left = -5.40929
margin_top = -11.3999
margin_right = 3.59071
margin_bottom = 6.60008
custom_fonts/font = SubResource( 1 )
text = "0"
script = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Score Animplayer" type="AnimationPlayer" parent="Hud/Score Root/Score"]
"anims/Points bounce" = SubResource( 2 )

[node name="PauseMenue" type="Node2D" parent="Hud"]

[node name="PauseMenue" parent="Hud/PauseMenue" instance=ExtResource( 5 )]
margin_left = -252.453
margin_top = -12.6454
margin_right = -252.453
margin_bottom = -12.6454

[node name="PauseButton" type="TextureButton" parent="Hud/PauseMenue"]
pause_mode = 2
margin_left = -248.973
margin_top = 142.945
margin_right = 263.027
margin_bottom = 654.945
rect_scale = Vector2( 0.045, 0.04 )
texture_normal = ExtResource( 18 )
texture_pressed = ExtResource( 19 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Enviornment" type="Node2D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Enviornment"]
environment = ExtResource( 1 )

[node name="Walls" type="StaticBody2D" parent="Enviornment"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Enviornment/Walls"]
polygon = PoolVector2Array( -30, -26.264, 359.771, -26.2636, 359.771, 201.354, 326.042, 201.354, 0, 201.354, -3.06623, 175.09, 323.998, 175.09, 323.998, 0, -3.06623, 0, -3.06623, 176.063, 0, 201.354, -32.7065, 201.354 )
[connection signal="SIncreasePoints" from="." to="Hud/Score Root/Score" method="IncreasePoints"]
[connection signal="SPlayerWon" from="." to="." method="OnPlayerWon"]
[connection signal="SPlayerDied" from="Player" to="Player" method="OnPlayerDied"]
[connection signal="pressed" from="Hud/PauseMenue/PauseButton" to="." method="OnPauseButtonPressed"]

[editable path="Player"]
